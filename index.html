shellScript: `#!/bin/bash
# APEX Optimizer v11.0 - Mejorado con más limpieza y optimización
C_OFF='\\033[0m'
C_RED='\\033[0;31m'
C_GREEN='\\033[0;32m'
C_YELLOW='\\033[0;33m'
C_BLUE='\\033[0;34m'
C_MAGENTA='\\033[0;35m'
C_CYAN='\\033[0;36m'
C_WHITE='\\033[0;97m'
LOG_FILE=~/apex_auto_log.txt
STORAGE="/sdcard"

print_banner() {
    clear
    echo -e "$C_RED
    █████╗ ██████╗ ███████╗██╗  ██╗
   ██╔══██╗██╔══██╗██╔════╝╚██╗██╔╝
   ███████║██████╔╝█████╗   ╚███╔╝ 
   ██╔══██║██╔══██╗██╔══╝   ██╔██╗ 
   ██║  ██║██║  ██║███████╗██╔╝ ██╗
   ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝
    $C_WHITE Optimizador APEX v11.0 - Potencia Extrema
    $C_CYAN (c) 2025 candilmartinalonso - Sin Root $C_OFF
"
    echo ""
}

run_deep_clean() {
    echo -e "$C_MAGENTA[MODULO DE LIMPIEZA PROFUNDA]$C_OFF"
    echo -e "$C_YELLOW-> Limpiando caché de apps...$C_OFF"
    find "$STORAGE/Android/data" -type d -name "cache" -exec rm -rf {} + 2>/dev/null
    find "$STORAGE/Android/media" -type d -name "cache" -exec rm -rf {} + 2>/dev/null
    echo -e "$C_YELLOW-> Eliminando archivos basura (.log, .tmp, .bak, .old)...$C_OFF"
    find "$STORAGE" -type f \\( -name "*.log" -o -name "*.tmp" -o -name "*.bak" -o -name "*.old" \\) -delete 2>/dev/null
    echo -e "$C_YELLOW-> Limpiando miniaturas de galería y apps sociales...$C_OFF"
    rm -rf "$STORAGE/DCIM/.thumbnails" 2>/dev/null
    rm -rf "$STORAGE/Pictures/.thumbnails" 2>/dev/null
    rm -rf "$STORAGE/WhatsApp/.Shared" 2>/dev/null
    echo -e "$C_YELLOW-> Limpiando APKs descargados...$C_OFF"
    find "$STORAGE/Download" -type f -name "*.apk" -delete 2>/dev/null
    echo -e "$C_YELLOW-> Borrando archivos grandes (>200MB)...$C_OFF"
    find "$STORAGE" -type f -size +200M -print -delete 2>/dev/null
    echo -e "$C_YELLOW-> Borrando archivos de apps desinstaladas...$C_OFF"
    find "$STORAGE/Android/data" -maxdepth 1 -type d | while read dir; do
        pkg=$(basename "$dir")
        pm list packages | grep "$pkg" || rm -rf "$dir"
    done
    echo -e "$C_YELLOW-> Limpiando logs del sistema y dumps...$C_OFF"
    rm -rf "$STORAGE/Android/data/com.android.*"/*log* 2>/dev/null
    rm -rf "$STORAGE/Android/data/com.android.*"/*dmp* 2>/dev/null
    echo -e "$C_GREEN\\nLimpieza profunda completada.$C_OFF"
}

run_browser_clean() {
    echo -e "$C_MAGENTA[MODULO LIMPIEZA DE NAVEGADORES]$C_OFF"
    rm -rf "$STORAGE/Android/data/com.android.chrome/cache" 2>/dev/null
    rm -rf "$STORAGE/Android/data/org.mozilla.firefox/cache" 2>/dev/null
    rm -rf "$STORAGE/Android/data/com.opera.browser/cache" 2>/dev/null
    echo -e "$C_GREEN\\nCaché de navegadores eliminado.$C_OFF"
}

run_duplicate_clean() {
    echo -e "$C_MAGENTA[BUSCADOR DE ARCHIVOS DUPLICADOS]$C_OFF"
    fdupes -r "$STORAGE" | awk 'NF>1' | while read line; do
        echo -e "$C_YELLOW-> Duplicados: $line$C_OFF"
        for f in $line; do
            rm -f "$f" 2>/dev/null
        done
    done
    echo -e "$C_GREEN\\nDuplicados eliminados (básico).$C_OFF"
}

run_social_clean() {
    echo -e "$C_MAGENTA[MODULO DE LIMPIEZA DE RR.SS.]$C_OFF"
    echo -e "$C_YELLOW-> Limpiando backups de WhatsApp...$C_OFF"
    rm -rf "$STORAGE/Android/media/com.whatsapp/WhatsApp/Databases" 2>/dev/null
    rm -rf "$STORAGE/WhatsApp/Databases" 2>/dev/null
    echo -e "$C_YELLOW-> Limpiando caché de Telegram...$C_OFF"
    rm -rf "$STORAGE/Android/data/org.telegram.messenger/cache" 2>/dev/null
    echo -e "$C_YELLOW-> Limpiando miniaturas de WhatsApp...$C_OFF"
    rm -rf "$STORAGE/WhatsApp/Media/.Statuses" 2>/dev/null
    echo -e "$C_GREEN\\nLimpieza de RR.SS. completada.$C_OFF"
}

run_empty_folder_clean() {
    echo -e "$C_MAGENTA[CAZADOR DE CARPETAS VACÍAS]$C_OFF"
    echo -e "$C_YELLOW-> Buscando y eliminando directorios vacíos...$C_OFF"
    find "$STORAGE" -type d -empty -delete 2>/dev/null
    echo -e "$C_GREEN\\nCaza de carpetas vacías completada.$C_OFF"
}

run_ram_clean() {
    echo -e "$C_MAGENTA[LIMPIEZA DE RAM]$C_OFF"
    echo -e "$C_YELLOW-> Matando procesos zombie y apps en segundo plano...$C_OFF"
    for pkg in $(pm list packages -3 | cut -d: -f2); do am force-stop $pkg 2>/dev/null; done
    echo -e "$C_GREEN\\nProcesos finalizados. RAM liberada (si es posible).$C_OFF"
}

run_boost_services() {
    echo -e "$C_MAGENTA[REINICIO DE SERVICIOS DEL SISTEMA]$C_OFF"
    sv restart crond 2>/dev/null
    sv restart termux-services 2>/dev/null
    echo -e "$C_GREEN\\nServicios reiniciados.$C_OFF"
}

run_sqlite_opt() {
    echo -e "$C_MAGENTA[OPTIMIZADOR SQLITE]$C_OFF"
    find "$STORAGE" -type f -name "*.db" | while read db; do
        sqlite3 "$db" 'VACUUM;' 2>/dev/null
    done
    echo -e "$C_GREEN\\nBases de datos SQLite optimizadas.$C_OFF"
}

run_system_boost() {
    echo -e "$C_MAGENTA[OPTIMIZADOR DEL SISTEMA]$C_OFF"
    run_ram_clean
    run_boost_services
    run_sqlite_opt
    echo -e "$C_YELLOW-> Ajustando animaciones del sistema (requiere ADB o root para efecto completo)...$C_OFF"
    settings put global window_animation_scale 0.25
    settings put global transition_animation_scale 0.25
    settings put global animator_duration_scale 0.25
    echo -e "$C_GREEN\\nOptimización avanzada del sistema aplicada.$C_OFF"
}

run_system_diag() {
    echo -e "$C_MAGENTA[DIAGNÓSTICO DEL SISTEMA]$C_OFF"
    echo -e "$C_WHITE  Modelo:$C_OFF $(getprop ro.product.model)"
    echo -e "$C_WHITE  Android:$C_OFF $(getprop ro.build.version.release)"
    echo -e "$C_WHITE  RAM:$C_OFF" && free -m
    echo -e "$C_WHITE  Almacenamiento:$C_OFF" && df -h "$STORAGE"
    echo -e "$C_WHITE  Batería:$C_OFF" && termux-battery-status
    echo -e "$C_WHITE  Temperatura CPU:$C_OFF $(cat /sys/class/thermal/thermal_zone0/temp 2>/dev/null)"
    echo -e "$C_WHITE  Ciclos batería:$C_OFF $(dumpsys battery | grep cycle 2>/dev/null)"
    echo -e "$C_WHITE  Consumo de apps:$C_OFF"
    dumpsys cpuinfo | head -10 2>/dev/null
    echo -e "$C_WHITE  Estado red:$C_OFF" && ip addr show
}

run_space_by_folder() {
    echo -e "$C_MAGENTA[ESPACIO OCUPADO POR CARPETA]$C_OFF"
    du -hs "$STORAGE"/* 2>/dev/null | sort -hr | head -15
}

run_auto_mode() {
    echo "--- APEX Auto-Clean starting at $(date) ---" >> "$LOG_FILE"
    run_deep_clean >> "$LOG_FILE" 2>&1
    run_browser_clean >> "$LOG_FILE" 2>&1
    run_duplicate_clean >> "$LOG_FILE" 2>&1
    run_social_clean >> "$LOG_FILE" 2>&1
    run_empty_folder_clean >> "$LOG_FILE" 2>&1
    run_ram_clean >> "$LOG_FILE" 2>&1
    run_boost_services >> "$LOG_FILE" 2>&1
    run_sqlite_opt >> "$LOG_FILE" 2>&1
    echo "--- APEX Auto-Clean finished at $(date) ---" >> "$LOG_FILE"
    exit 0
}

main_menu() {
    while true; do
        print_banner
        echo -e "$C_YELLOWElige una opción para optimizar tu dispositivo:$C_OFF"
        echo "  [1] Limpieza Profunda (Caché, Basura, APKs, .old, .bak, grandes)"
        echo "  [2] Limpiar Navegadores"
        echo "  [3] Limpiar Duplicados"
        echo "  [4] Limpieza de Redes Sociales"
        echo "  [5] Cazar Carpetas Vacías"
        echo "  [6] Limpieza de RAM y procesos"
        echo "  [7] Optimización del Sistema (Boost, animaciones, servicios)"
        echo "  [8] Optimizar Bases de Datos SQLite"
        echo "  [9] Diagnóstico Avanzado del Sistema"
        echo "  [10] Espacio por Carpeta"
        echo -e "$C_CYAN [11] Limpieza TOTAL (Todas las anteriores)$C_OFF"
        echo -e "$C_RED  [q] Salir de APEX$C_OFF"
        echo ""
        read -p "Tu elección: " choice

        case $choice in
            1) print_banner; run_deep_clean ;;
            2) print_banner; run_browser_clean ;;
            3) print_banner; run_duplicate_clean ;;
            4) print_banner; run_social_clean ;;
            5) print_banner; run_empty_folder_clean ;;
            6) print_banner; run_ram_clean ;;
            7) print_banner; run_system_boost ;;
            8) print_banner; run_sqlite_opt ;;
            9) print_banner; run_system_diag ;;
            10) print_banner; run_space_by_folder ;;
            11)
                print_banner
                run_deep_clean; echo "";
                run_browser_clean; echo "";
                run_duplicate_clean; echo "";
                run_social_clean; echo "";
                run_empty_folder_clean; echo "";
                run_ram_clean; echo "";
                run_system_boost; echo "";
                run_sqlite_opt; echo "";
                ;;
            q|Q) echo -e "$C_CYAN\\n¡Gracias por usar APEX! Mantén tu sistema en la cima.$C_OFF"; exit 0 ;;
            *) echo -e "$C_RED\\nOpción no válida. Inténtalo de nuevo.$C_OFF"; sleep 1 ;;
        esac
        echo -e "\\n$C_WHITE--- Presiona ENTER para volver al menú ---$C_OFF"
        read
    done
}

if [[ "$1" == "--auto" ]]; then
    run_auto_mode
else
    main_menu
fi
`
